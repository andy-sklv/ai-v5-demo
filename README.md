# ai-v5-demo
_–ú–æ–π –ª–∏—á–Ω—ã–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: Next.js 14 + Vercel AI SDK v5 + (–æ–ø—Ü.) Datadog Toto_

![Next.js](https://img.shields.io/badge/Next.js-14-black?logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?logo=typescript)
![Vercel AI SDK](https://img.shields.io/badge/Vercel%20AI%20SDK-v5-000000?logo=vercel)
![Runtime](https://img.shields.io/badge/Runtime-Edge-blue)
![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)

–ü—Ä–∏–≤–µ—Ç! üëã –≠—Ç–æ –º–æ—è —Ä–∞–±–æ—á–∞—è –¥–µ–º–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —è –ø–æ–∫–∞–∑—ã–≤–∞—é:

- –∫–∞–∫ –Ω–∞ **Next.js 14 (App Router, Edge runtime)** —Å–¥–µ–ª–∞—Ç—å **—Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã–π —á–∞—Ç** –Ω–∞ **Vercel AI SDK v5**;
- –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å **tool calling** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ **zod**;
- –∫–∞–∫ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å **Vision** (–≤–∫–ª—é—á–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint –ø–æ–¥ gpt-4.1-vision);
- –∫–∞–∫ –≤—Å—Ç—Ä–æ–∏—Ç—å –ø–∞–Ω–µ–ª—å —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ **–ø—Ä–æ–≥–Ω–æ–∑–æ–º** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ **Datadog Toto**);
- –∏ –∫–∞–∫ –≤—Å—ë —É–ø–∞–∫–æ–≤–∞—Ç—å –≤ **UI ‚Äú–≤ —Å—Ç–∏–ª–µ Telegram‚Äù** —Å –º—è–≥–∫–∏–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω–æ–π UX-–ª–æ–≥–∏–∫–æ–π.

–Ø —Å—Ç–∞—Ä–∞–ª—Å—è –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –º–∞–≥–∏–µ–π: —á–∏—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ API-—Ä–æ—É—Ç—ã ‚Äî —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å–µ–±—è –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å.

---

## üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ](#-—á—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ)
- [üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å](#-–∫–∞–∫-–∑–∞–ø—É—Å—Ç–∏—Ç—å)
  - [–í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ (Node)](#–≤–∞—Ä–∏–∞–Ω—Ç-1--–ª–æ–∫–∞–ª—å–Ω–æ-node)
  - [–í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî Docker + env](#–≤–∞—Ä–∏–∞–Ω—Ç-2--docker--env)
- [üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É](#-–Ω–∞–≤–∏–≥–∞—Ü–∏—è-–ø–æ-–∫–æ–¥—É)
- [üñ•Ô∏è –¢—É—Ä –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É](#Ô∏è-—Ç—É—Ä-–ø–æ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É)
- [üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [üê≥ –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π (—à–ø–∞—Ä–≥–∞–ª–∫–∞)](#-—Å–±–æ—Ä–∫–∞-–∏-–¥–µ–ø–ª–æ–π-—à–ø–∞—Ä–≥–∞–ª–∫–∞)
- [üßØ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#-—á–∞—Å—Ç—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
- [üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](#Ô∏è-–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞)
- [üôå –°–ø–∞—Å–∏–±–æ –∏ —Å—Å—ã–ª–∫–∏](#-—Å–ø–∞—Å–∏–±–æ-–∏-—Å—Å—ã–ª–∫–∏)

---

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ

–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–¥–µ–º–æ:

- –ë–∞–±–ª—ã —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äú–∫–∞–∫ –≤ Telegram‚Äù: **–º–æ–∏ —Å–ø—Ä–∞–≤–∞**, **–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–ª–µ–≤–∞**, –Ω–∞ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ **–≤—Ä–µ–º—è**. –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –Ω–æ–≤–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É.
- –í–Ω–∏–∑—É ‚Äî **–ø–æ–ª–µ –≤–≤–æ–¥–∞** –∏ **–ø–∞–ª–∏—Ç—Ä–∞ –∫–æ–º–∞–Ω–¥**: `time`, `weather`, `math`, `shippingCost`, **Vision-–ø–∞–Ω–µ–ª—å**, **–ø–∞–Ω–µ–ª—å Toto**, –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏, System Prompt.
- –ù–∞–≤–µ—Ä—Ö—É ‚Äî **—Å—Ç–∞—Ç—É—Å-–±–∞—Ä** —Å ‚Äú–ø–∏–ª—é–ª—è–º–∏‚Äù –º–µ—Ç—Ä–∏–∫. –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º –æ–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É** —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π; –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è **–ø–æ–¥—Å–∫–∞–∑–∫–∏**.
- –ú–æ–¥–∞–ª–∫–∏ ‚Äú–í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å‚Äù –∏ ‚Äú–ó–∞–¥–∞—Ç—å –ø—Ä–æ–º–ø—Ç‚Äù –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è **–≤–Ω—É—Ç—Ä–∏ –∫–∞–ø—Å—É–ª—ã —á–∞—Ç–∞**, —Å –ø–æ–ª–Ω–æ–π –∑–∞–ª–∏–≤–∫–æ–π –∏ —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É.
- –í —Ñ—É—Ç–µ—Ä–µ ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ GitHub (UI –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Toto-service).

---

## üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ—Ç–æ–∫–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã (Edge + guarded stream)
- `app/api/chat/route.ts` –Ω–∞ **Edge runtime**, —Å—Ç—Ä–∏–º–∏–Ω–≥ —á–∞–Ω–∫–∞–º–∏.
- –ï—Å–ª–∏ LLM –≤–¥—Ä—É–≥ ‚Äú–º–æ–ª—á–∏—Ç‚Äù, –µ—Å—Ç—å **fallback** (–ø—ã—Ç–∞—é—Å—å –¥–æ–≥–∞–¥–∞—Ç—å—Å—è: –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–∞–∑–∞—Ç—å –ø–æ–≥–æ–¥—É/–≤—Ä–µ–º—è –∏ —Ç.–¥.), —á—Ç–æ–±—ã **–≤—Å–µ–≥–¥–∞** –ø—Ä–∏—Å–ª–∞—Ç—å –æ—Ç–≤–µ—Ç.

### Tools (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ö–æ–¥–∞ ‚Äî zod)
- `time` ‚Äî —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø–æ IANA (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Europe/London`).
- `weather` ‚Äî –ø–æ–≥–æ–¥–∞ —á–µ—Ä–µ–∑ **Open-Meteo**. –ù–æ—Ä–º–∞–ª–∏–∑—É—é —Ä—É—Å—Å–∫–∏–µ —Ñ—Ä–∞–∑—ã: ‚Äú–≤ –ú–æ—Å–∫**–≤–µ**‚Äù, ‚Äú–≤ –†–æ—Å—Ç–æ–≤**–µ-–Ω–∞-–î–æ–Ω—É**‚Äù ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.
- `math` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (—à—É–Ω—Ç–∏–Ω–≥-—è—Ä–¥, –Ω–∏–∫–∞–∫–æ–≥–æ `eval`).
- `shippingCost` ‚Äî —Ñ–∏–∫—Å-—Ä–∞—Å—á—ë—Ç –¥–æ—Å—Ç–∞–≤–∫–∏: **USD = basePrice √ó weightKg** + –ø–µ—Ä–µ—Å—á—ë—Ç –≤ EUR. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏–ª —Ñ–æ—Ä–º—É–ª—É, —á—Ç–æ–±—ã –¥–µ–º–æ –±—ã–ª–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

### Vision (–¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- `/api/vision` ‚Äî gpt-4o  
- `/api/vision41` ‚Äî gpt-4.1-vision  

–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `.env`: `NEXT_PUBLIC_VISION_API`.  
–í –º–∏–Ω–∏-–ø–∞–Ω–µ–ª–∏ Vision –µ—Å—Ç—å ‚Äú–ø–∏–ª—é–ª—è‚Äù **–ü—Ä–∏–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Äî –∫–ª–∏–∫, –∏ URL –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –ü–∞–Ω–µ–ª—å Toto (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –°—á–∏—Ç–∞—é **—Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏** (Chars/sec) –∏ **End-to-End Latency** –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ ‚Äî —Ä–∏—Å—É—é **—Å–ø–∞—Ä–∫–ª–∞–π–Ω—ã**.
- –ß–µ—Ä–µ–∑ `/api/toto` –∑–∞–ø—Ä–∞—à–∏–≤–∞—é —É –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ **–ø—Ä–æ–≥–Ω–æ–∑** –Ω–∞ 3 —à–∞–≥–∞ –≤–ø–µ—Ä—ë–¥.
- –í —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ –≤–∏–∂—É `CPS now/avg + —Ç—Ä–µ–Ω–¥`, `p50/p95 latency`, `Forecast next`, `TPS`, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–Ω–æ–º–∞–ª–∏–π.
- –ï—Å–ª–∏ Toto –Ω–µ –Ω—É–∂–µ–Ω ‚Äî –≤—ã–∫–ª—é—á–∞—é —á–µ—Ä–µ–∑ `NEXT_PUBLIC_TOTO_ENABLED=false` (–æ—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π).

---

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Next.js 14** (App Router, **Edge runtime** –¥–ª—è API-—Ä–æ—É—Ç–æ–≤)
- **Vercel AI SDK v5** (`streamText`, `tool()` + `zod`)
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –º–æ–¥–µ–ª–µ–π: **@ai-sdk/openai**
- **TypeScript**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: **Docker (multi-stage)**

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ (Node)

```bash
npm i
# —Å–æ–∑–¥–∞–π—Ç–µ .env –ø–æ –ø—Ä–∏–º–µ—Ä—É –Ω–∏–∂–µ
npm run dev
# –æ—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
```

### –í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî Docker + .env

–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ:

```env
# –≤–∞—à –∫–ª—é—á OpenAI
OPENAI_API_KEY=sk-...

# –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤ UI –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å)
NEXT_PUBLIC_DEFAULT_MODEL=gpt-4o-mini

# Vision-—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –º–∏–Ω–∏-–ø–∞–Ω–µ–ª–∏:
# /api/vision (gpt-4o) –∏–ª–∏ /api/vision41 (gpt-4.1-vision)
NEXT_PUBLIC_VISION_API=/api/vision41

# –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å Toto (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
NEXT_PUBLIC_TOTO_ENABLED=true

# –≤–Ω–µ—à–Ω–∏–π Toto-service (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ). –î–ª—è Docker –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ —É–¥–æ–±–Ω–æ —Ç–∞–∫:
TOTO_PROXY_URL=http://host.docker.internal:8000

# —Ñ–ª–∞–≥ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –¥–ª—è —á–∞—Ç–∞ (–æ—Å—Ç–∞–≤–∏–ª –∫–∞–∫ –æ–±—â–∏–π —Ç—É–º–±–ª–µ—Ä)
TOTO_TRACE=false
```

–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker build --no-cache -t ai-v5-demo:latest .
docker run -d --name ai-v5 \
  --env-file ./.env \
  --add-host=host.docker.internal:host-gateway \
  -p 3000:3000 \
  ai-v5-demo:latest

# –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ:
# http://<HOSTNAME_or_IP>:3000
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `NEXT_PUBLIC_*` –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç ‚Äî –¥–ª—è –∏—Ö —Å–º–µ–Ω—ã –Ω—É–∂–µ–Ω **—Ä–µ–±–∏–ª–¥**.

---

## üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É

```text
app/
  api/
    chat/route.ts        # —á–∞—Ç, —Å—Ç—Ä–∏–º, tools, guarded fallback
    vision/route.ts      # Vision: gpt-4o
    vision41/route.ts    # Vision: gpt-4.1-vision
    toto/route.ts        # –ø—Ä–æ–∫—Å–∏ –≤–æ –≤–Ω–µ—à–Ω–∏–π Toto (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  globals.css
components/
  Chat.tsx               # —á–∞—Ç, –º–∏–Ω–∏-–ø–∞–Ω–µ–ª–∏ Vision/Shipping, –º–æ–¥–∞–ª–∫–∏
  StatsBar.tsx           # —Å—Ç–∞—Ç—É—Å-–æ–≤–µ—Ä–ª–µ–π, –Ω–∞ –º–æ–±–∏–ª–µ ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
  TotoPanel.tsx          # —Å–ø–∞—Ä–∫–ª–∞–π–Ω—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑ Toto
  Dock.tsx               # "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" –∏ "‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ"
next.config.mjs
```

- `app/api/chat/route.ts` ‚Äî —á–∞—Ç, —Å—Ç—Ä–∏–º, tools, guarded fallback  
- `app/api/vision/route.ts`, `app/api/vision41/route.ts` ‚Äî –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ Vision  
- `app/api/toto/route.ts` ‚Äî –ø—Ä–æ–∫—Å–∏ –≤–æ –≤–Ω–µ—à–Ω–∏–π Toto (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)  
- `components/*` ‚Äî UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø–∞–Ω–µ–ª–∏

---

## üñ•Ô∏è –¢—É—Ä –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

- **–ü–æ–ª–µ –≤–≤–æ–¥–∞:** –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–∞–ª–∏—Ç—Ä–∞ –∫–æ–º–∞–Ω–¥:  
  `Tool: time/weather/math/shippingCost`, `Vision` (—Å –ø–∏–ª—é–ª–µ–π ‚Äú–ü—Ä–∏–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è‚Äù), `üìà Toto` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω), ‚Äú–í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å‚Äù / ‚Äú–ó–∞–¥–∞—Ç—å –ø—Ä–æ–º–ø—Ç‚Äù.
- **–ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª:** –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–∏–Ω–∏-–ø–∞–Ω–µ–ª–µ–π —á–∞—Ç –º—è–≥–∫–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É –º–µ—Å—Ç—É.
- **Vision-–ø–∞–Ω–µ–ª—å:** –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å—Å—ã–ª–∫—É ‚Üí ‚Äú–ê–Ω–∞–ª–∏–∑‚Äù ‚Üí —Å—Ç—Ä–∏–º–∏–Ω–≥ ‚Äú–∫–∞–∫ –µ—Å—Ç—å‚Äù; –ø–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π –ø—É—Å—Ç–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- **Shipping-–ø–∞–Ω–µ–ª—å:** –æ—Ç–∫—É–¥–∞/–∫—É–¥–∞/–±–∞–∑–∞/–≤–µ—Å ‚Üí —Ñ–æ—Ä–º–∏—Ä—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —á—ë—Ç–∫–æ–≥–æ tool-–≤—ã–∑–æ–≤–∞.
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:** –≤ –¥–æ–∫–µ —Å–ø—Ä–∞–≤–∞ —Å–Ω–∏–∑—É ‚Äî –º–æ–¥–∞–ª–∫–∏ ‚Äú‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏‚Äù –∏ ‚Äú‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ‚Äù –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–∞–ø—Å—É–ª—ã —á–∞—Ç–∞.
- **–°—Ç–∞—Ç—É—Å-–±–∞—Ä:** –ø–ª–∞—à–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏; –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ ‚Äî —Ç—ë–º–Ω–æ–µ –æ–±–ª–∞—á–∫–æ-–ø–æ–¥—Å–∫–∞–∑–∫–∞. –ù–∞ –º–æ–±–∏–ª–µ ‚Äî –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É —Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π.

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–ü–ª–∞–≤–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:** –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏, –±–µ–∑ ‚Äú–¥—ë—Ä–≥–∞–Ω–∏–π‚Äù; –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª ‚Äî `behavior: 'smooth'`.
- **–†—É—Å—Å–∫–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è –≤ weather:** –Ω–æ—Ä–º–∞–ª–∏–∑—É—é –∑–∞–ø—Ä–æ—Å—ã (—Ä–æ–¥/–ø–∞–¥–µ–∂–∏), —á—Ç–æ–±—ã ‚Äú–≤ –ú–æ—Å–∫–≤–µ‚Äú, ‚Äú–≤ –†–æ—Å—Ç–æ–≤–µ-–Ω–∞-–î–æ–Ω—É‚Äù –æ–ø—Ä–µ–¥–µ–ª—è–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
- **Vision:** –µ—Å–ª–∏ URL –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω ‚Äî —á–µ—Å—Ç–Ω–æ –ø–∏—à—É –ø—Ä–æ –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π endpoint (`/api/vision41`) –∏–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É.
- **–ú–æ–¥–∞–ª–∫–∏:** —Ü–µ–Ω—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —á–∞—Ç–∞ –∏ –Ω–µ ‚Äú—É–µ–∑–∂–∞—é—Ç‚Äù –≤ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–∞–Ω–∏—Ü—ã; —Ñ–æ–Ω ‚Äî —Å–ø–ª–æ—à–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞.
- **–ö–Ω–æ–ø–∫–∏-–≥—Ä–∞–¥–∏–µ–Ω—Ç—ã:** —Ö–æ–≤–µ—Ä —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç –Ω–∞ 180¬∞ ‚Äî –º–µ–ª–æ—á—å, –Ω–æ –ø—Ä–∏—è—Ç–Ω–µ–µ –≥–ª–∞–∑—É.
- **–ú–æ–±–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å-–±–∞—Ä:** `flex: 0 0 auto` —É –ø–ª–∞—à–µ–∫ + `overflow-x: auto` —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–æ –∏ —É–¥–æ–±–Ω–æ.

---

## üê≥ –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π (—à–ø–∞—Ä–≥–∞–ª–∫–∞)

### Node (prod)

```bash
npm i
npm run build
npx next start -p 3000
```

### Docker

```bash
docker build -t ai-v5-demo:latest .
docker run -d --name ai-v5 \
  --env-file ./.env \
  --add-host=host.docker.internal:host-gateway \
  -p 3000:3000 \
  ai-v5-demo:latest
```

---

## üßØ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**Vision –¥–∞—ë—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å endpoint –Ω–∞ `/api/vision41` —á–µ—Ä–µ–∑ `.env`.
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π URL (–≤ –ø–∞–Ω–µ–ª—å–∫–µ –µ—Å—Ç—å ‚Äú–ü—Ä–∏–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è‚Äù).

**–ü–æ–≥–æ–¥–∞ ‚Äú–Ω–µ –Ω–∞—à–ª–∞ –≥–æ—Ä–æ–¥‚Äù**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–¥–µ–∂/—Ñ–æ—Ä–º—É. –ï—Å—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–æ –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ —Å–æ–≤—Å–µ–º —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è ‚Äî –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º: ‚Äú–ú–æ—Å–∫–≤–∞‚Äù, ‚Äú–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É‚Äù.

**Toto –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**
- –ù–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ: UI –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–º. –ü–∞–Ω–µ–ª—å –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –∏–ª–∏ –≤—ã–∫–ª—é—á–∏—Ç—å `NEXT_PUBLIC_TOTO_ENABLED=false`.

**–ò–∑–º–µ–Ω–∏–ª `NEXT_PUBLIC_*`, –Ω–æ UI –Ω–µ –≤–∏–¥–∏—Ç**
- –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏ ‚Äî –Ω—É–∂–µ–Ω **—Ä–µ–±–∏–ª–¥**.

---

## üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ (localStorage) –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∏–∞–ª–æ–≥–æ–≤.
- –ë–æ–ª–µ–µ ‚Äú–±–æ–≥–∞—Ç—ã–µ‚Äù –≤–∏–¥–∂–µ—Ç—ã –¥–ª—è tools (–∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–≥–æ–¥—ã, –¥–æ—Å—Ç–∞–≤–∫–∏).
- –õ—ë–≥–∫–∏–π A/B-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –º–æ–¥–µ–ª–µ–π –∏ —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ –Ω–∏–º.
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–Ω–æ–º–∞–ª–∏–π (–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –≤ –æ–≤–µ—Ä–ª–µ–µ).

---

## üôå –°–ø–∞—Å–∏–±–æ –∏ —Å—Å—ã–ª–∫–∏

–í –ø–æ–¥–≤–∞–ª UI –¥–æ–±–∞–≤–∏–ª –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏:

- UI: <https://github.com/andy-sklv/ai-v5-demo>  
- Toto-service (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ): <https://github.com/andy-sklv/toto-service>

–ï—Å–ª–∏ –∑–∞–º–µ—Ç–∏—Ç–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—å –∏–ª–∏ –±—É–¥–µ—Ç –∏–¥–µ—è ‚Äî –∫–∏–¥–∞–π—Ç–µ issue/PR.  
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è —Å–æ–±—Ä–∞–ª, —á—Ç–æ–±—ã –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç—å —Å—Ç–µ–∫ (Next.js + Vercel AI SDK v5) –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤—è–∑–∫—É —Å –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å—é (Toto).

---