AI SDK v5 (beta) ‚Äî Next.js Edge –¥–µ–º–æ: Chat + Tools + Vision

–ù–µ–±–æ–ª—å—à–æ–π, –Ω–æ ¬´–ø—Ä–æ–¥–æ–≤—ã–π¬ª –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel AI SDK v5 (beta) + Next.js 14 (App Router, Edge runtime).
–ü–æ–∫–∞–∑—ã–≤–∞—é —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤, tool calling —Å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º API –ø–æ–≥–æ–¥—ã, fallback –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç) –∏ –ø—Ä–æ—Å—Ç–æ–π Vision-–ø—Ä–∏–º–µ—Ä.

–ö–æ—Ä–æ—Ç–∫–æ —á—Ç–æ –µ—Å—Ç—å:
‚Ä¢ –ø–æ—Ç–æ–∫–æ–≤—ã–π —á–∞—Ç streamText() –Ω–∞ Edge
‚Ä¢ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã time / weather / math —á–µ—Ä–µ–∑ tool() + zod
‚Ä¢ –ø–æ–≥–æ–¥–∞ –±–µ–∑ –∫–ª—é—á–µ–π (Open-Meteo real API)
‚Ä¢ guarded-stream fallback (–µ—Å–ª–∏ LLM ¬´–º–æ–ª—á–∏—Ç¬ª)
‚Ä¢ Vision: image URL ‚Üí –æ–ø–∏—Å–∞–Ω–∏–µ
‚Ä¢ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ + –º–µ—Ç—Ä–∏–∫–∏ (–ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –º–æ–¥–µ–ª—å)

üß± –°—Ç–µ–∫

Next.js 14 (App Router) + Edge runtime –¥–ª—è /api/*

Vercel AI SDK v5 (beta):
streamText() + tool() + zod (–Ω–∏–∫–∞–∫–∏—Ö —Å—Ç–∞—Ä—ã—Ö API)

–ü—Ä–æ–≤–∞–π–¥–µ—Ä: @ai-sdk/openai (–≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –≤ UI)

–ö–ª–∏–µ–Ω—Ç: –∫–∞—Å—Ç–æ–º–Ω—ã–π —á—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ —á–µ—Ä–µ–∑ fetch / ReadableStream
(–±–µ–∑ ¬´–º–∞–≥–∏—á–µ—Å–∫–∏—Ö¬ª —Ö—É–∫–æ–≤ ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –ø—Ä–æ—â–µ –¥–µ–±–∞–∂–∏—Ç—å)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
time ‚Äî IANA-–≤—Ä–µ–º—è —á–µ—Ä–µ–∑ Intl.DateTimeFormat
weather ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π Open-Meteo (–≥–µ–æ–∫–æ–¥–∏–Ω–≥ ‚Üí —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞)
math ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (—Å—Ç—Ä–æ–≥–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–π)

–ò–Ω—Ñ—Ä–∞: Docker multi-stage, Nginx c –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–π –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π

üîé –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —è —Å–¥–µ–ª–∞–ª (–∏ –≥–¥–µ –≤ –∫–æ–¥–µ)

–ü–æ—Ç–æ–∫–æ–≤—ã–π —á–∞—Ç + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Äî app/api/chat/route.ts
streamText({ tools: { time, weather, math }, toolChoice: 'auto' })

–∑–∞—â–∏—Ç–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ —Å—Ç—Ä–∏–º–∞: –µ—Å–ª–∏ –±–∞–π—Ç–æ–≤ –æ—Ç –º–æ–¥–µ–ª–∏ –Ω–µ –ø—Ä–∏—à–ª–æ, —è –¥–µ–ª–∞—é fallbackAnswer() –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é —á–µ—Å—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Äî —Ç–∞–º –∂–µ: tool() + z.object(...), v5-–ø–æ–¥—Ö–æ–¥
(LLM –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Å—Ö–µ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∞ —è –∏—Å–ø–æ–ª–Ω—è—é —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É).

Vision ‚Äî app/api/vision/route.ts: { type: 'image', image: url } + { type: 'text', text: ... } ‚Üí —Å—Ç—Ä–∏–º –æ—Ç–≤–µ—Ç–∞.

–ö–ª–∏–µ–Ω—Ç ‚Äî components/Chat.tsx, components/Vision.tsx: —Ä—É—á–Ω–æ–π —Ä–∏–¥–µ—Ä, —Å—Ç–æ–ø/abort, –¥–æ–∑–∞–ø–∏—Å—å —á–∞–Ω–∫–æ–≤.

–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî components/StatsBar.tsx (busyCount), –≤–∏–¥–∂–µ—Ç—ã –º–µ—Ç—Ä–∏–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

System prompt ‚Äî lib/systemPrompt.ts –∏ —è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é –µ–≥–æ –≤ UI, —á—Ç–æ–±—ã —Ç—ã –≤–∏–¥–µ–ª –ª–æ–≥–∏–∫—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å–∫–≤–æ–∑–Ω–æ–π —Ñ–ª–æ—É)
[Browser]
  | fetch('/api/chat') + ReadableStream
  v
[Edge API route (app/api/chat/route.ts)]
  - streamText({ tools, toolChoice: 'auto', system, messages })
  - tools: time | weather | math  (validate args via zod)
  - textStream ‚Üí –æ–±–æ—Ä–∞—á–∏–≤–∞—é –≤ —Å–≤–æ–π ReadableStream
       ‚îî‚îÄ –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞ –Ω–µ –ø—Ä–∏—à–ª–æ ‚Üí fallbackAnswer() —Ä—É–∫–∞–º–∏
  v
[Browser]
  - –ø–æ —á–∞–Ω–∫–∞–º –∑–∞–ø–∏—Å—ã–≤–∞—é –æ—Ç–≤–µ—Ç –≤ UI
  - —Å—á–∏—Ç–∞—é E2E –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –ø–æ–∫–∞–∑—ã–≤–∞—é –º–µ—Ç—Ä–∏–∫–∏

üÜï –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ Vercel AI SDK v5 (–∏ –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –æ–Ω)

tool() first-class: –æ–ø–∏—Å—ã–≤–∞—é —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç—Ä–æ–≥–æ —á–µ—Ä–µ–∑ zod ‚Üí —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –ø–æ–Ω—è—Ç–Ω—ã–µ LLM –∏ –º–Ω–µ.

–ï–¥–∏–Ω—ã–π streamText(): –æ–¥–∏–Ω API –¥–ª—è —á–∞—Ç–∞/–ø—Ä–æ–º–ø—Ç–æ–≤, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∏–º + —É–¥–æ–±–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã (toTextStreamResponse).

–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å –≤ messages[].content: –º–∞—Å—Å–∏–≤ –±–ª–æ–∫–æ–≤ (text, image –∏ —Ç.–¥.).

–ì–∏–±–∫–æ—Å—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ: –º–æ–≥—É –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ö—É–∫–æ–≤ ‚Äî —á–∏—Ç–∞—Ç—å –ø–æ—Ç–æ–∫ –≤—Ä—É—á–Ω—É—é –∏ –¥–µ–ª–∞—Ç—å ¬´–ø—Ä–æ–¥¬ª-—Ñ–∏—à–∫–∏ (guarded fallback, –¥–µ–±–∞–≥ –ø–æ—Ç–æ–∫–æ–≤).

üåê –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

GET /api/ping ‚Üí pong (healthcheck)

GET /api/echo ‚Üí —Å—Ç—Ä–∏–º chunk 1..5 (–ø—Ä–æ–≤–µ—Ä–∫–∞ Nginx/—Å—Ç—Ä–∏–º–æ–≤)

POST /api/chat ‚Üí —Å—Ç—Ä–∏–º —Ç–µ–∫—Å—Ç–∞ (–º–æ–¥–µ–ª—å + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)

POST /api/vision ‚Üí —Å—Ç—Ä–∏–º –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ URL

–ü—Ä–∏–º–µ—Ä—ã curl (—Å—Ç—Ä–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å -N)
# health
curl -i http://localhost:3000/api/ping

# —Ç–µ—Å—Ç —Å—Ç—Ä–∏–º–∞ —Å–∫–≤–æ–∑—å nginx
curl -i -N http://localhost:3000/api/echo

# chat: –≤—Ä–µ–º—è (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç time)
curl -i -N -X POST http://localhost:3000/api/chat \
  -H "content-type: application/json" \
  --data '{"messages":[{"id":"1","role":"user","content":"–í—ã–∑–æ–≤–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏: –°–∫–∞–∂–∏ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ IANA \"Europe/London\"."}],"model":"gpt-4o-mini"}'

# chat: –ø–æ–≥–æ–¥–∞ –ü–∞—Ä–∏–∂ (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç weather)
curl -i -N -X POST http://localhost:3000/api/chat \
  -H "content-type: application/json" \
  --data '{"messages":[{"id":"1","role":"user","content":"–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ Paris –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?"}]}'

# chat: –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç math –∏–ª–∏ –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏)
curl -i -N -X POST http://localhost:3000/api/chat \
  -H "content-type: application/json" \
  --data '{"messages":[{"id":"1","role":"user","content":"–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 15*7 - (2+3)?"}]}'

# vision: –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ URL
curl -i -N -X POST http://localhost:3000/api/vision \
  -H "content-type: application/json" \
  --data '{"imageUrl":"https://picsum.photos/seed/ai/600/400","prompt":"–û–ø–∏—à–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ."}'

üß© UI/UX (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)

–°–µ–ª–µ–∫—Ç–æ—Ä –º–æ–¥–µ–ª–∏ –≤ —à–∞–ø–∫–µ —á–∞—Ç–∞ ‚Äî —è –∫–ª–∞–¥—É –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-AI-Model.

–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ¬´‚è≥ –≥–µ–Ω–µ—Ä–∏—Ä—É—é‚Ä¶¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤.

–ü–∞–Ω–µ–ª—å –º–µ—Ç—Ä–∏–∫ ‚Äî –º–æ–¥–µ–ª—å, E2E –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –≤—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Ç–æ–∫–µ–Ω—ã.

System prompt ‚Äî –≤–∏–¥–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (—Ä–∞–∑–¥–µ–ª System prompt (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)).

‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

.env (–ø—Ä–∏–º–µ—Ä):

OPENAI_API_KEY=sk-XXXX...

# –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ UI (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ)
NEXT_PUBLIC_DEFAULT_MODEL=gpt-4o-mini

‚ñ∂Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (Node)
# Node 18.17+ / 20.x
npm i
npm run dev # http://localhost:3000

üê≥ Docker (multi-stage)
# —Å–±–æ—Ä–∫–∞
docker build --no-cache -t ai-v5-demo:latest .

# –∑–∞–ø—É—Å–∫ (–ø–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–π .env)
docker rm -f ai-v5 2>/dev/null || true
docker run -d --name ai-v5 --env-file .env -p 3000:3000 ai-v5-demo:latest

# –ª–æ–≥
docker logs -f ai-v5


–û–±—Ä–∞–∑ –Ω–µ —Ç—è–Ω–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî Edge-—Ä–æ—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.

üß∞ Nginx (reverse proxy, –≤–∞–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é)
server {
  listen 80;
  server_name ai-v5-demo.example.com;

  gzip on;
  gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

  location / {
    proxy_pass http://127.0.0.1:3000;
    proxy_http_version 1.1;

    proxy_set_header Host $host;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    # –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç—Ä–∏–º–∞
    proxy_buffering off;
    proxy_cache off;
    proxy_read_timeout 3600s;
    sendfile off;
    proxy_set_header Connection "";
    add_header X-Accel-Buffering no;
  }
}

üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
app/
  api/
    chat/route.ts      # streamText + tools + guarded-fallback
    vision/route.ts    # streamText (image+text)
    ping/route.ts      # health
    echo/route.ts      # test stream
  page.tsx             # —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–æ —Å—Ç–µ–∫/–∏–Ω—Ñ—Ä—É/–Ω–æ–≤–æ–µ –≤ v5, –ø–æ–¥—Å–∫–∞–∑–∫–∏
  layout.tsx
components/
  Chat.tsx             # —Ä—É—á–Ω–æ–π —Ä–∏–¥–µ—Ä –ø–æ—Ç–æ–∫–∞, stop/abort, UI
  Vision.tsx           # —Ñ–æ—Ä–º–∞ –¥–ª—è URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  StatsBar.tsx         # –º–µ—Ç—Ä–∏–∫–∏ –∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
lib/
  systemPrompt.ts      # system prompt, –ø–æ–∫–∞–∑—ã–≤–∞—é –≤ UI
public/
Dockerfile
next.config.mjs (–µ—Å–ª–∏ –µ—Å—Ç—å)

üß™ –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–¥-—É—Ä–æ–≤–µ–Ω—å (–≥–¥–µ ¬´–º—è—Å–æ¬ª)

–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (tool() + zod) –∏ —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–≥–æ–¥—ã (Open-Meteo).

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —Å—Ç—Ä–∏–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ guarded fallback –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç.

–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: –º–µ—Ç—Ä–∏–∫–∏ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, –º–æ–¥–µ–ª—å; –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞.

Vision –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º v5: { type: 'image', image: url } + { type: 'text' }.

üßØ Troubleshooting

–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –ø–æ—Å–ª–µ tool-call
–Ø —É–∂–µ –¥–æ–±–∞–≤–∏–ª guarded fallback; –µ—Å–ª–∏ –≤—Å—ë –∂–µ –≤–∏–¥–∏—à—å –ø—É—Å—Ç–æ—Ç—É ‚Äî –ø—Ä–æ–≤–µ—Ä—å Nginx (–±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è), —Å–º–æ—Ç—Ä–∏ X-Accel-Buffering: no.

crypto.randomUUID is not a function
–í –∫–ª–∏–µ–Ω—Ç–µ —É –º–µ–Ω—è –µ—Å—Ç—å —Ñ–æ–ª–±—ç–∫-UUID. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–∏–ª–¥ –±–µ–∑ –ø–æ–ª–∏—Ñ–∏–ª–ª–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ –ª–æ–º–∞–µ—Ç SSR.

TypeScript —Ç—è–Ω–µ—Ç—Å—è –≤ –ø—Ä–æ–¥-–±–∏–ª–¥
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –º–æ—é Docker-—Å—Ö–µ–º—É, –≤—Å—ë –æ–∫; Next —Å–∞–º –¥–æ–∫–∞—á–∏–≤–∞–µ—Ç devDeps –≤ –±–∏–ª–¥–µ—Ä-—Å–ª–æ–µ.

no space left on device –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
–ß–∏—Å—Ç–∫–∞:

docker system prune -a --volumes -f
rm -rf ~/.npm/_cacache


–°—Ç—Ä–∏–º ¬´–∑–∞–ª–∏–ø–∞–µ—Ç¬ª
–ü—Ä–æ–≤–µ—Ä—å Nginx: proxy_buffering off; sendfile off; + add_header X-Accel-Buffering no;
–ò–Ω–∏—Ü–∏–∏—Ä—É–π curl -i -N /api/echo ‚Äî –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ ¬´chunk 1..5¬ª.

üó∫Ô∏è Roadmap (—á—Ç–æ –¥–æ–∫—Ä—É—Ç–∏—Ç—å –±—ã—Å—Ç—Ä–æ)
docker rm -f ai-v5 2>/dev/null || true

Structured output —á–µ—Ä–µ–∑ zod –∏ –ø–æ–∫–∞–∑ —Ç–∞–±–ª–∏—Ü–µ–π –≤ UI.
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ tool-calls (–ø–æ–≥–æ–¥–∞ —Å—Ä–∞–∑—É –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –≥–æ—Ä–æ–¥–∞–º).
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≥–æ–¥—ã (TTL 60‚Äì120—Å), —Ñ–ª–∞–≥ –≤ UI.
RAG (–º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω–¥–µ–∫—Å + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç searchDocs).
Usage-–∫–æ–ª–ª–µ–∫—Ç–æ—Ä –ø–æ—Å–ª–µ —Å—Ç—Ä–∏–º–∞ (—Å–≤–µ–¥—É —Ç–æ–∫–µ–Ω—ã –≤ –º–µ—Ç—Ä–∏–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ).

üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT. –î–µ–ª–∞–π —Å —ç—Ç–∏–º –∫–æ–¥–æ–º —á—Ç–æ —Ö–æ—á–µ—à—å, —Ç–æ–ª—å–∫–æ –æ—Å—Ç–∞–≤—å –∫–æ–ø–∏—Ä–∞–π—Ç.

üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Andrei Sokolov ‚Äî —Å–æ–±—Ä–∞–ª, –Ω–∞–ø–∏—Å–∞–ª, –ø–æ–¥–∫—Ä—É—Ç–∏–ª Edge, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, Vision –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.